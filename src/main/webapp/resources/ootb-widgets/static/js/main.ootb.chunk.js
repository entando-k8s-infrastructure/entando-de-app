(this["webpackJsonpentando-ootb-widgets"]=this["webpackJsonpentando-ootb-widgets"]||[]).push([[0],{53:function(e,t,a){e.exports=a(68)},58:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),i=a.n(o),l=(a(58),a(6)),c=a(7),u=a(34),d=a(8),s=a(9),h=a(48),p=a(4),g=a(72),m=a(69),f=a(70),v=a(85),b=a(71),E=a(73),O=a(74),y=a(75),k=a(76),j=a(77),N=[{code:"EN",descr:"English"},{code:"IT",descr:"Italian"}],P=[{code:"homepage",title:"Home",level:"0",url:"http://localhost:8090/entando-de-app/en/homepage.page",voidPage:!0},{code:"my_page",title:"My Page",level:"1",url:"http://localhost:8090/entando-de-app/en/my_page.page",voidPage:!1},{code:"homepage_test",title:"Home - test",level:"1",url:"http://localhost:8090/entando-de-app/en/homepage_test.page",voidPage:!1},{code:"sitemap",title:"Sitemap",level:"2",url:"http://localhost:8090/entando-de-app/en/sitemap.page",voidPage:!1},{code:"homepage",title:"Home",level:"0",url:"http://localhost:8090/entando-de-app/en/homepage.page",voidPage:!0},{code:"my_page",title:"My Page",level:"0",url:"http://localhost:8090/entando-de-app/en/my_page.page",voidPage:!1},{code:"homepage_test",title:"Home - test",level:"1",url:"http://localhost:8090/entando-de-app/en/homepage_test.page",voidPage:!0},{code:"sitemap",title:"Sitemap",level:"2",url:"http://localhost:8090/entando-de-app/en/sitemap.page",voidPage:!1},{code:"my_pagesdfdf",title:"My Page Wa",level:"2",url:"http://localhost:8090/entando-de-app/en/my_page.page",voidPage:!1},{code:"gbadoasd",title:"Forever",level:"3",url:"http://localhost:8090/entando-de-app/en/my_page.page",voidPage:!1},{code:"contact",title:"Contact",level:"2",url:"http://localhost:8090/entando-de-app/en/contact.page",voidPage:!1},{code:"address",title:"Address",level:"3",url:"http://localhost:8090/entando-de-app/en/address.page",voidPage:!1},{code:"about",title:"About",level:"1",url:"http://localhost:8090/entando-de-app/en/homepage.page",voidPage:!0},{code:"homepage",title:"Home",level:"0",url:"http://localhost:8090/entando-de-app/en/homepage.page",voidPage:!0}],C=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={expanded:!1},n.handleExpandSidePanel=n.handleExpandSidePanel.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"handleExpandSidePanel",value:function(){this.setState((function(e){return{expanded:!e.expanded}}))}},{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(m.a,{"aria-label":"Entando OOTB Widgets Dev"},r.a.createElement(f.a,{href:"#",prefix:"Entando"},"OOTB Widgets Dev"),r.a.createElement(v.a,null,r.a.createElement(b.a,{"aria-label":"Components List",onClick:this.handleExpandSidePanel},r.a.createElement(g.a,null))),r.a.createElement(E.a,{"aria-label":"Header Panel",expanded:this.state.expanded},r.a.createElement(O.a,{"aria-label":"Switcher Container"},r.a.createElement(y.a,{"aria-label":"Language Chooser",href:"/"},"Language Chooser"),r.a.createElement(y.a,{href:"/nav-bar","aria-label":"Navigation Bar"},"Navigation Bar"),r.a.createElement(y.a,{href:"/login-button","aria-label":"Login Button"},"Login Button"),r.a.createElement(y.a,{href:"/header-fragment","aria-label":"Header Fragment"},"Header Fragment"),r.a.createElement(k.a,null)))),r.a.createElement(j.a,null,r.a.createElement(p.a,{path:"/",exact:!0,render:function(){return r.a.createElement("choose-language-widget",{"current-lang":"EN",languages:JSON.stringify(N)})}}),r.a.createElement(p.a,{path:"/login-button",exact:!0,render:function(){return r.a.createElement("login-button-widget",{"app-url":"http://localhost:8090/entando-de-app/",page:"".concat("http://localhost:8090/entando-de-app/","en/homepage.page")})}}),r.a.createElement(p.a,{path:"/nav-bar",exact:!0,render:function(){return r.a.createElement(m.a,{"aria-label":"Entando Navigation Bar"},r.a.createElement("navigation-bar-widget",{"current-page":"homepage","nav-items":JSON.stringify(P)}))}}),r.a.createElement(p.a,{path:"/header-fragment",exact:!0,render:function(){return r.a.createElement("header-fragment",{"app-url":"http://localhost:8090/entando-de-app/"},r.a.createElement("template",null,r.a.createElement("navigation-bar-widget",{"current-page":"homepage","nav-items":JSON.stringify(P)}),r.a.createElement("choose-language-widget",{"current-lang":"EN",languages:JSON.stringify(N)}),r.a.createElement("login-button-widget",{"app-url":"http://localhost:8090/entando-de-app/",page:"".concat("http://localhost:8090/entando-de-app/","en/homepage.page")})))}})))}}]),a}(n.Component),w=a(21),_=a(23),L=a(83),x=a(80),A=a(78),T=a(79),R=(a(63),function(e){var t=e.languages,a=e.currentLang;return r.a.createElement(L.a,{renderIcon:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,null),r.a.createElement(T.b,{className:"chooseLanguage__menu-arrow"}))},flipped:!0,className:"chooseLanguage"},t.map((function(e){return r.a.createElement(x.a,{key:e.code,itemText:e.descr,href:e.url,className:["langItem"].concat(Object(_.a)(a===e.code?["active"]:[])).join(" ")})})))});R.defaultProps={languages:[],currentLang:""};var S=R,B={languages:"languages",currentLang:"current-lang"},I=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"attributeChangedCallback",value:function(e,t,a){if(!Object.values(B).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.mountPoint&&a!==t&&this.render()}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.render()}},{key:"render",value:function(){var e=JSON.parse(this.getAttribute(B.languages)),t=this.getAttribute(B.currentLang);i.a.render(r.a.createElement(S,{languages:e,currentLang:t}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(B)}}]),a}(Object(w.a)(HTMLElement));customElements.get("choose-language-widget")||customElements.define("choose-language-widget",I);var M=a(51),U=a.n(M),D=a(38),H=a(31),q=a(84),J=(a(65),function(e){var t=e.applicationBaseURL,a=(e.sessionUser,e.userDisplayName),n=e.currentPage,o=Object(D.useKeycloak)(),i=Object(H.a)(o,1)[0];return r.a.createElement("div",{className:"LoginButtonWidget"},i.authenticated?r.a.createElement("div",{className:"LoginButtonWidget__wellcome"},"Welcome, ",a,"! (",r.a.createElement("a",{href:"".concat(t,"do/logout.action")},"Logout"),")"):r.a.createElement(q.a,{onClick:function(){window.location.href="".concat(t,"do/login?redirectTo=").concat(n)}},"Login"))});J.defaultProps={sessionUser:"",userDisplayName:"",currentPage:""};var K=J,W=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={keycloak:null},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.applicationBaseURL,t=new U.a("".concat(e,"keycloak.json"));this.setState({keycloak:t})}},{key:"render",value:function(){var e=this.state.keycloak;return e?r.a.createElement(D.KeycloakProvider,{keycloak:e,initConfig:{onLoad:"check-sso",checkLoginIframe:!0}},r.a.createElement(K,this.props)):null}}]),a}(n.Component);W.defaultProps={applicationBaseURL:"http://localhost:8090/entando-de-app/"};var F=W,V={sessionUser:"session-user",userDisplayName:"user-display-name",currentPage:"page",applicationBaseURL:"app-url"},z=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"attributeChangedCallback",value:function(e,t,a){if(!Object.values(V).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.mountPoint&&a!==t&&this.render()}},{key:"connectedCallback",value:function(){this.mountPoint=document.createElement("div"),this.appendChild(this.mountPoint),this.render()}},{key:"render",value:function(){var e=this.getAttribute(V.sessionUser),t=this.getAttribute(V.userDisplayName),a=this.getAttribute(V.currentPage),n=this.getAttribute(V.applicationBaseURL);i.a.render(r.a.createElement(F,{sessionUser:e,userDisplayName:t,currentPage:a,applicationBaseURL:n}),this.mountPoint)}}],[{key:"observedAttributes",get:function(){return Object.values(V)}}]),a}(Object(w.a)(HTMLElement));customElements.get("login-button-widget")||customElements.define("login-button-widget",z);var G=a(18),Q=a(52),X=a(81),Y=a(82),Z=a(16),$=a(3),ee=a.n($),te=function(e,t){for(var a=0;a<t.length;a++)if(ae(e,t[a]))return!0;return!1},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.key,n=t.which,r=t.keyCode;return"string"===typeof e?e===a:"number"===typeof e?e===n||e===r:e.key&&Array.isArray(a)?-1!==a.indexOf(e.key):e.key===a||e.which===n||e.keyCode===r},ne={key:"Enter",which:13,keyCode:13},re={key:["Escape","Esc"],which:27,keyCode:27},oe={key:" ",which:32,keyCode:32},ie=a(2),le=a.n(ie),ce=a(39),ue=(function(e){var t=Object.keys(e);t.reduce((function(t,a){return Object(G.a)(Object(G.a)({},t),{},Object(ce.a)({},a,(n=e[a],function(e,t,a){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];return n.apply(void 0,[e,t,a].concat(o))})));var n}),{})}({"aria-label":le.a.string,"aria-labelledby":le.a.string}),Z.a.prefix),de=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e))._subMenus=r.a.createRef(),n.handleOnIconClick=function(e){e.stopPropagation(),e.preventDefault(),n.setState((function(e){return{expanded:!e.expanded}}))},n.handleOnClick=function(e){if("#"===n.props.href){var t=n._subMenus.current;t&&t.contains(e.target)||e.preventDefault(),n.setState((function(e){return{expanded:!e.expanded}}))}},n.handleOnKeyDown=function(e){if(te(e,[ne,oe]))return e.stopPropagation(),e.preventDefault(),void n.setState((function(e){return{expanded:!e.expanded}}))},n.handleOnBlur=function(e){if(null!==e.relatedTarget){var t=e.relatedTarget.closest("li.".concat(ue,"--header__submenu")),a=e.currentTarget;if(t&&(a.dataset.uniqueId===t.dataset.uniqueId||a.querySelector("li[data-unique-id='".concat(t.dataset.uniqueId,"']"))))return void e.stopPropagation()}var r=n.items.find((function(t){return t===e.relatedTarget}));e.relatedTarget&&(e.relatedTarget.getAttribute("href")&&"#"!==e.relatedTarget.getAttribute("href")||r)||n.setState({expanded:!1,selectedIndex:null})},n.handleMenuButtonRef=function(e){n.props.focusRef&&n.props.focusRef(e),n.menuButtonRef=e},n.handleItemRef=function(e){return function(t){n.items[e]=t}},n.handleMenuClose=function(e){if(te(e,[re])&&n.state.expanded)return e.stopPropagation(),e.preventDefault(),n.setState((function(){return{expanded:!1,selectedIndex:null}})),void n.menuButtonRef.focus()},n._renderMenuItem=function(e,t){if(r.a.isValidElement(e))return r.a.cloneElement(e,{ref:n.handleItemRef(t)})},n.state={expanded:!1,selectedIndex:null},n.items=[],n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],a=e["aria-labelledby"],n=e.className,o=e.children,i=e.renderMenuContent,l=e.menuLinkName,c=e.href,u=e.uniqueId,d={"aria-label":t,"aria-labelledby":a},s=ee()("".concat(ue,"--header__submenu"),n);return r.a.createElement("li",{className:s,onKeyDown:this.handleMenuClose,onClick:this.handleOnClick,tabIndex:0,"data-unique-id":u,onBlur:this.handleOnBlur},r.a.createElement("a",Object.assign({className:"".concat(ue,"--header__menu-item ").concat(ue,"--header__menu-title"),href:c,"aria-expanded":this.state.expanded},d),l,r.a.createElement("button",{"aria-haspopup":"menu",onClick:this.handleOnIconClick,onKeyDown:this.handleOnKeyDown,ref:this.handleMenuButtonRef},r.a.createElement(i,null))),r.a.createElement("ul",Object.assign({},d,{ref:this._subMenus,className:"".concat(ue,"--header__menu")}),r.a.Children.map(o,this._renderMenuItem)))}}]),a}(n.Component);de.defaultProps={renderMenuContent:function(){return r.a.createElement(T.a,{className:"".concat(ue,"--header__menu-arrow")})},href:"#",uniqueId:""};var se=r.a.forwardRef((function(e,t){return r.a.createElement(de,Object.assign({},e,{focusRef:t}))}));se.displayName="HeaderMenu";var he=se,pe=(a(66),Z.a.prefix),ge=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).currentPageMarked=!1,e}return Object(c.a)(a,[{key:"renderNav",value:function(e,t,a){var n=this,o=this.props.currentPage,i=0===Number(e[0].level),l=1===Number(e[0].level),c=i?X.a:he,u=e.find((function(e){return e.code===o||e.children&&e.children.find((function(e){return e.code===o}))})),d="{}";if(t){t.children;var s=Object(Q.a)(t,["children"]);d=JSON.stringify(s)}var h,p=Object(G.a)(Object(G.a)(Object(G.a)({"aria-label":i?"Menu":t.title},i?{className:"navigationMenu"}:{menuLinkName:t.title,renderMenuContent:(h=l,function(){var e=h?T.a:T.c;return r.a.createElement(e,{className:"".concat(pe,"--header__menu-arrow")})}),uniqueId:d,key:d}),a?{isCurrentPage:a}:{}),t&&t.url&&!t.voidPage?{href:t.url}:{href:"#"});return r.a.createElement(c,p,e.map((function(e){var t=!n.currentPageMarked&&u&&u.code===e.code;return t&&(n.currentPageMarked=!0),e.children?n.renderNav(e.children,e,t):r.a.createElement(Y.a,{key:JSON.stringify(e),href:e.url,isCurrentPage:t},e.title)})))}},{key:"render",value:function(){var e=this.props.navItems;return this.currentPageMarked=!1,this.renderNav(e)}}]),a}(n.Component),me={navItems:"nav-items",currentPage:"current-page"},fe=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"attributeChangedCallback",value:function(e,t,a){if(!Object.values(me).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.mountPoint&&a!==t&&this.render()}},{key:"connectedCallback",value:function(){this.render()}},{key:"condenseNavItems",value:function(e){var t=JSON.parse(e).map((function(e,t){return Object(G.a)(Object(G.a)({},e),{},{navIdx:t})})),a=[],n=[];return t.forEach((function(e,r){if(Number(e.level)!==a.length)for(;Number(e.level)!==a.length;)e.level>a.length?a.push(t[r-1]):a.pop();var o=a.length;o>0?(a[o-1].children||(a[o-1].children=[]),a[o-1].children=[].concat(Object(_.a)(a[o-1].children),[e])):n.push(e)})),n}},{key:"render",value:function(){var e=this.condenseNavItems(this.getAttribute(me.navItems)),t=this.getAttribute(me.currentPage);i.a.render(r.a.createElement(ge,{navItems:e,currentPage:t}),this)}}],[{key:"observedAttributes",get:function(){return Object.values(me)}}]),a}(Object(w.a)(HTMLElement));customElements.get("navigation-bar-widget")||customElements.define("navigation-bar-widget",fe);a(67);var ve=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLogoAreaRef=function(t){var a=e.props.childNodes.filter((function(e){return"logo"===e.getAttribute("role")})),n=Object(H.a)(a,1)[0];if(n){var r=n.cloneNode(!0);r.classList.add("HeaderFragment__logo"),t.appendChild(r)}},e.handleMenuAreaRef=function(t){var a=e.props.childNodes.filter((function(e){return"navigation-bar-widget"===e.tagName.toLowerCase()})),n=Object(H.a)(a,1)[0];n&&t.appendChild(n.cloneNode(!0))},e.handleActionsRef=function(t){e.props.childNodes.filter((function(e){var t=e.tagName.toLowerCase();return"navigation-bar-widget"!==t&&"script"!==t&&"link"!==t&&"logo"!==e.getAttribute("role")||"login-button-widget"===t||"choose-language-widget"===t})).forEach((function(e){t.appendChild(e.cloneNode(!0))}))},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.applicationBaseURL;return r.a.createElement(m.a,{"aria-label":"Entando",className:"HeaderFragment"},r.a.createElement("a",{href:e,ref:this.handleLogoAreaRef}),r.a.createElement("div",{ref:this.handleMenuAreaRef,className:"HeaderFragment__menu-area"}),r.a.createElement("div",{ref:this.handleActionsRef,className:"bx--header__global HeaderFragment__actions-area"}))}}]),a}(n.Component);ve.defaultProps={applicationBaseURL:"http://localhost:8090/entando-de-app/"};var be=ve,Ee={applicationBaseURL:"app-url"},Oe=function(e){Object(d.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).observer=null,e.childs=[],e}return Object(c.a)(a,[{key:"attributeChangedCallback",value:function(e,t,a){if(!Object.values(Ee).includes(e))throw new Error("Untracked changed attribute: ".concat(e));a!==t&&this.childs.length&&this.extractTemplateTag()}},{key:"extractTemplateTag",value:function(e){var t=e||this.getElementsByTagName("template")[0];if(t){var a=t.content&&t.content.children;a.length?this.childs=Object(_.a)(a):this.childs=Object(_.a)(t.childNodes),this.render()}}},{key:"activateObserve",value:function(){var e=this,t=this.querySelector("template");t?this.extractTemplateTag(t):(this.observer=new MutationObserver((function(t){t.forEach((function(t){t.addedNodes.length,t.addedNodes.length&&t.addedNodes[0].tagName&&"template"===t.addedNodes[0].tagName.toLowerCase()&&setTimeout((function(){return e.extractTemplateTag(t.addedNodes[0])}),500)}))})),this.observer.observe(this,{childList:!0}))}},{key:"connectedCallback",value:function(){this.activateObserve()}},{key:"render",value:function(){var e=this.getAttribute(Ee.applicationBaseURL);i.a.render(r.a.createElement(be,{applicationBaseURL:e,childNodes:this.childs}),this)}}],[{key:"observedAttributes",get:function(){return Object.values(Ee)}}]),a}(Object(w.a)(HTMLElement));customElements.get("header-fragment")||customElements.define("header-fragment",Oe);"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASEURL:"http://localhost:8090/entando-de-app/"}).REACT_APP_LOCAL&&i.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.ootb.chunk.js.map